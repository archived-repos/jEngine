/*! jengine 2015-04-22 */
!function(){"use strict";var a=function(a,b){window.console[a].apply(window.console,b)},b=function(){},c=b,d=function(){c("log",Array.prototype.slice.call(arguments))};["info","warn","debug","error"].forEach(function(a){d[a]=void 0!==window.console?function(){c(a,Array.prototype.slice.call(arguments))}:b}),d.enable=function(e){e=void 0===e?!0:e,c=e&&void 0!==window.console?a:b,d("log is enabled")},d.clear=function(){d.history=[],window.console&&console.clear()},"true"===document.documentElement.getAttribute("data-log")&&d.enable(),window.log=d}(),function(){"use strict";function a(b,c,d){return f.isString(b)?void 0===c?g[b]:a.define(b,c,d):(a.run(b,c,d),a)}function b(a,b){i[a]=i[a]||[],i[a].push(b)}function c(a){var b=g[a];if(f.isArray(i[a]))for(var c=0,d=i[a].length;d>c;c++)i[a][c](b)}function d(b,d){g[b]=d,log.debug("fn defined: ",b),c(b),delete a.waiting[b]}var e="undefined"==typeof window?module.exports:window,f={isFunction:function(a){return a instanceof Function},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return a instanceof Number},isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:function(a,b,c){if(!a instanceof Object)return!1;var d,e=b.split("."),f=a||{};if(void 0!==c){if(e.length){for(d=e.shift(),next_key=e.shift();next_key;)a[d]||(a[d]={}),a=a[d],d=next_key,next_key=e.shift();a[d]=c}return c}for(var g=0,h=e.length;h>g;g++){if(d=e[g],!(d in f))return!1;f=f[e[g]]||{}}return f},keys:Object.keys,globalize:function(a,b){if(b)e[a]=b;else if(a)e[a]=g[a];else for(a in g)e[a]=g[a]}},g={_:f},h=/^function[^\(]\(([^\)]*)/,i={};a.waiting={},a.run=function(b,c,d){return f.isArray(b)?void 0===c&&(c=b.pop()):f.isFunction(b)&&(d=c,c=b,b=c.toString().match(h)[1].split(",")||[]),c instanceof Function&&a.require(b,c,d),a},a.define=function(b,c,e){if(f.isString(b)){f.isArray(c)?void 0===e&&(e=c.pop()):f.isFunction(c)&&(e=c,c=[],e.toString().replace(h,function(a,b){b=b.replace(/\s/g,""),b&&b.replace(/([^,]+),?/,function(a,b){c.push(b)})})),a.waiting[b]=c,a.require(c,function(){var a=e.apply(g,arguments);a&&a.then instanceof Function?a.then(function(a){setTimeout(function(){d(b,a)},0)}):d(b,a)})}return a},a.require=function(c,d,e){if(!f.isFunction(d))return!1;var h=function(){for(var a=0,b=c.length,f=[];b>a;a++)c[a]&&f.push(g[c[a]]);d.apply(e||g,f)};if(h.pending=0,h._try=function(){h.pending--,h.pending||h()},h._add=function(c){g[c]||(h.pending++,a.defer(function(){g[c]?h._try():b(c,h._try)}))},f.isString(c)&&(c=[c]),f.isArray(c))if(c.length){for(var i=0,j=c.length;j>i;i++)c[i]&&h._add(c[i]);h.pending||h()}else h();return a},a.when=function(c,d){return f.isFunction(d)&&(g[c]?d.apply(context,g[c]):b(c,function(a){d.apply(context,a)})),a},a.defer=function(b,c){return setTimeout(b,c||0),a},a.globalize=f.globalize,f.globalize("fn",a),a.load=window.addEventListener?function(b){return window.addEventListener("load",b,!1),a}:function(b){return window.attachEvent("onload",b),a},a.ready=function(b){return b instanceof Function&&(/loaded|complete/.test(document.readyState)?b():a.load(b)),a},a.ready(function(){var b,c,d,e,f={};for(c in a.waiting)for(b=a.waiting[c],f[c]=[],d=0,e=b.length;e>d;d++)g[b[d]]||f[c].push(b[d]);if(Object.keys(f).length){console.group("missing dependencies");for(c in f)log(c,f[c]);console.groupEnd()}})}(),function(a,b){if("undefined"==typeof window)"undefined"!=typeof module&&(module.exports=b());else{var c=b();"function"==typeof fn?fn.define("jqlite",function(){return c}):"function"==typeof angular?angular.module("jqlite",[]).constant("jqlite",c):"function"==typeof define&&define.amd?define(["jqlite"],function(){return c}):a.jqlite=c,a.$||(a.$=c)}}(this,function(){"use strict";function a(a,b){for(var c=0,d=b.length;d>c;c++)a[c]=b[c];return a.length+=d,a}function b(b){switch(b[0]){case"#":var c=document.querySelector(b);if(c){var e=new f;return e[0]=c,e.length=1,e}return a(new f,document.querySelectorAll(b));case"<":l.innerHTML=b;var g=a(new f,l.children);return d.plugin.init(g),g;default:return a(new f,document.querySelectorAll(b))}}function c(b){if(b instanceof Array||b instanceof NodeList||b instanceof HTMLCollection)return a(new f,b);if(b===document||b instanceof HTMLElement||b instanceof Element){var c=new f;return c[0]=b,c.length=1,c}if(b instanceof Function)e(b);else if(void 0===b)return new f}function d(a){return"string"==typeof a?b(a):c(a)}function e(a){a instanceof Function&&(/loaded|complete/.test(document.readyState)?a():q(a))}function f(){}function g(a,b){"string"==typeof a&&b instanceof Function&&(g.widgets[a]=b,g.enabled?(console.log("running widget directly",a),$('[data-widget="'+a+'"]').each(b)):g.loading||(g.loading=!0,g.init()))}function h(a,b,c){var d=function(){p(a,b,d),c.apply(null,arguments)};return d}Element.prototype.matchesSelector||(Element.prototype.matchesSelector=Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);var i=document.createEvent?function(a,b,c,d){var e=document.createEvent("HTMLEvents");return e.data=d,e.args=c,e.initEvent(b,!0,!0),a.dispatchEvent(e),e}:function(a,b,c,d){var e=document.createEventObject();return e.data=d,e.args=c,a.fireEvent("on"+b,e),e},j=eval,k=function(){},l=document.createElement("div"),m=document.createElement("div"),n=!!l.classList,o=k,p=k;if(l.addEventListener)o=function(a,b,c){c.$listener=function(a){c.apply(a.target,[a].concat(a.args))},a.addEventListener(b,c.$listener,!1)},p=function(a,b,c){a.removeEventListener(b,c.$listener||c,!1)};else{if(!document.body.attachEvent)throw"Browser not compatible with element events";o=function(a,b,c){c.$listener=function(a){c.apply(a.target,[a].concat(a.args))},a.attachEvent("on"+b,c.$listener,!1)},p=function(a,b,c){a.detachEvent("on"+b,c.$listener||c)}}d.noop=k;var q=window.addEventListener?function(a){window.addEventListener("load",a,!1)}:function(a){window.attachEvent("onload",a)};f.prototype=[],f.prototype.ready=e,d.fn=f.prototype,f.prototype.get=function(a){return a?this[a]:this},f.prototype.eq=function(a){if(!a instanceof Number)throw"number required";var b=0>a?this[this.length-a]:this[a],c=new f;return b&&(c[0]=b,c.length=1),c},f.prototype.find=function(a){var b,c,d,e=this,g=new f;if(/^\s*>/.test(a)&&(a=a.replace(/^\s*>\s*([^\s]*)\s*/,function(a,b){return e=e.children(b),""}),!a))return e;if(1===e.length){for(b=e[0].querySelectorAll(a),c=0,d=b.length;d>c;c++)g[c]=b[c];g.length=d}else if(e.length>1){var h,i;for(c=0,d=e.length;d>c;c++)for(b=e[c].querySelectorAll(a),h=0,i=b.length;i>h;h++)b.item(h).___found___||(g[g.length]=b.item(h),g.length++,b.item(h).___found___=!0);for(c=0,d=g.length;d>c;c++)delete g[c].___found___}return g},f.prototype.$=f.prototype.find,f.prototype.each=function(a){if(a instanceof Function)for(var b=0,c=this.length;c>b;b++)a.call(this[b],b,this[b]);return this},f.prototype.empty=function(){for(var a,b,c=0,d=this.length;d>c;c++)for(a=this[c],b=a.firstChild;b;)a.removeChild(b),b=a.firstChild;return this},f.prototype.filter=function(a){var b,c,d,e=new f;if(a instanceof Function)for(c=0,d=this.length,b;d>c;c++)b=this[c],a.apply(b,[b])&&e.push(b);else if("string"==typeof a)for(c=0,d=this.length,b;d>c;c++)b=this[c],Element.prototype.matchesSelector.call(b,a)&&e.push(b);return e},f.prototype.closest=function(a){var b,c,d,e=new f;if(!a)return this;if(1===this.length)for(d=this[0].parentElement;d;){if(d.matchesSelector(a)){e.push(d);break}d=d.parentElement}else if(this.length>1){for(b=0,c=this.length;c>b;b++)for(d=this[b].parentElement;d;){if(d.matchesSelector(a)){d.___found___||(d.___found___=!0,e.push(d));break}d=d.parentElement}for(b=0,c=e.length;c>b;b++)delete e[b].___found___}return e},f.prototype.children=l.children?function(b){for(var c=new f,d=0,e=this.length;e>d;d++)a(c,this[d].children);return b?c.filter(b):c}:function(a){var b=new f;return Array.prototype.forEach.call(this,function(a){for(a=a.firstElementChild||a.firstChild;a;)b[b.length]=a,a=a.nextElementSibling||a.nextSibling}),a?b.filter(a):b},f.prototype.contents=function(a){var b=new f;return Array.prototype.forEach.call(this,function(a){for(a=a.firstChild;a;)b[b.length]=a,a=a.nextSibling}),a?b.filter(a):b},f.prototype.clone=function(a,b){var c,d,e=new f;for(void 0===a&&(a=!0),c=0,d=this.length;d>c;c++)e[c]=this[c].cloneNode(a);return e.length=d,e},f.prototype.data=l.dataset?function(a,b){var c,d;if(void 0===b)return void 0===a?this[0]?this[0].dataset:{}:(this[0]||{}).dataset[a];for(c=0,d=this.length;d>c;c++)this[c].dataset[a]=b;return this}:function(a,b){var c,d;if(void 0===b){var e=[];for(c=0,d=this.length;d>c;c++)e.push(this[c].getAttribute("data-"+a));return(this[0]||{getAttribute:function(){return!1}}).getAttribute(a)}for(c=0,d=this.length;d>c;c++)this[c].setAttribute("data-"+a,b)},f.prototype.removeData=l.dataset?function(a){var b,c;if("string"==typeof a)for(b=0,c=this.length;c>b;b++)delete this[b].dataset[a];else if(a instanceof Array)for(b=0,c=a.length;c>b;b++)this.removeData(a[b]);return this}:function(a){var b,c;if("string"==typeof a)for(b=0,c=this.length;c>b;b++)this[b].removeAttribute("data-"+a);else if(a instanceof Array)for(b=0,c=a.length;c>b;b++)this.removeData(a[b]);return this},f.prototype.attr=function(a,b){var c,d;if(b instanceof Function)for(c=0,d=this.length;d>c;c++)this[c].setAttribute(a,b(c,this[c].getAttribute(a)));else if(void 0!==b)for(c=0,d=this.length;d>c;c++)this[c].setAttribute(a,b);else if(this[0])return this[0].getAttribute(a);return this},f.prototype.removeAttr=function(a){for(var b=0,c=this.length;c>b;b++)this[b].removeAttribute(a);return this},f.prototype.prop=function(a,b){var c,d;if(b instanceof Function)for(c=0,d=this.length;d>c;c++)this[c][a]=b(c,this[c][a]);else if(void 0!==b)for(c=0,d=this.length;d>c;c++)this[c][a]=b;else if(this[0])return this[0][a];return this},f.prototype.val=function(a){var b;if(void 0===a)return b=this[0],"select"===b.nodeName?b.options[b.selectedIndex].value:this[0].value||this[0].getAttribute("value");for(var c=0,d=this.length;d>c;c++)if("select"===this[c].nodeName){b=this[c];for(var e=0,f=b.options.length;f>e;e++)if(b.options[e].value===a){b.options[e].selected=!0;break}}else void 0!==this[c].value?this[c].value=a:this[c].setAttribute("value",a);return this},f.prototype.addClass=n?function(a){if(a.indexOf(" ")>=0){var b=$(this);a.split(" ").forEach(function(a){b.addClass(a)})}else for(var c=0,d=this.length;d>c;c++)this[c].classList.add(a);return this}:function(a){for(var b=new RegExp("\\b"+(a||"")+"\\b",""),c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(b,"")+" "+a;return this},f.prototype.removeClass=n?function(a){if(a.indexOf(" ")>=0){var b=$(this);a.split(" ").forEach(function(a){b.removeClass(a)})}else for(var c=0,d=this.length;d>c;c++)this[c].classList.remove(a);return this}:function(a){for(var b=new RegExp("(\\b|\\s+)"+a+"\\b","g"),c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(b,"");return this},f.prototype.hasClass=n?function(a){for(var b=0,c=this.length;c>b;b++)if(this[b].classList.item(a))return!0;return!1}:function(a){for(var b=new RegExp("\\b"+(a||"")+"\\b",""),c=0,d=this.length;d>c;c++)if(b.test(this[c].className))return!0;return!1},f.prototype.toggleClass=n?function(a,b){var c,d;if(void 0===a)for(c=0,d=this.length;d>c;c++)this[c].classList.item(a)?this[c].classList.remove(a):this[c].classList.add(a);else if(b)for(c=0,d=this.length;d>c;c++)this[c].classList.add(a);else for(c=0,d=this.length;d>c;c++)this[c].classList.remove(a);return this}:function(a,b){var c,d,e=new RegExp("\\b"+(a||"")+"\\b",""),f=new RegExp("\\b"+(a||"")+"\\b",""),g=new RegExp("(\\b|\\s+)"+a+"\\b","g");if(void 0===a)for(c=0,d=this.length;d>c;c++)e.test(this[c].className)?this[c].className=this[c].className.replace(g,""):this[c].className=this[c].className.replace(f,"")+" "+a;else if(b)for(c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(f,"")+" "+a;else for(c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(g,"");return this},f.prototype.append=function(a){var b,c,d,e,f,g,h=$(a);for(h.remove(),c=0,e=this.length;e>c;c++)for(b=c?h.clone(!0):h,g=this[c],d=0,f=b.length;f>d;d++)g.appendChild(b[d]);return this},f.prototype.prepend=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++)if(b=c?i.clone(!0):i,g=this[c],h=g.firstChild)for(d=0,f=b.length;f>d;d++)g.insertBefore(b[d],h);else for(d=0,f=b.length;f>d;d++)g.appendChild(b[d]);return this},f.prototype.after=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++)if(b=c?i.clone(!0):i,h=this[c].parentElement||this[c].parentNode,g=this[c].nextElementSibling||this[c].nextSibling)for(d=0,f=b.length;f>d;d++)h.insertBefore(b[d],g),g=b[d];else for(d=0,f=b.length;f>d;d++)h.appendChild(b[d]);return this},f.prototype.replaceWith=function(a){var b,c,d,e,f,g,h,i,j=$(a);for(j.remove(),c=0,e=this.length;e>c;c++)if(b=c?j.clone(!0):j,g=this[c],h=g.parentElement||parentNode,h.replaceChild(b[0],g),b[1])for(i=b[0],d=1,f=b.length;f>d;d++)h.insertBefore(b[d],i);return this},f.prototype.wrap=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++){if(b=c?i.clone(!0):i,h=this[c].parentElement||this[c].parentNode,g=this[c].nextElementSibling||this[c].nextSibling)for(d=0,f=b.length;f>d;d++)h.insertBefore(b[d],g),g=b[d];else for(d=0,f=b.length;f>d;d++)h.appendChild(b[d]);if(b[0]){for(g=b[0];g.firstElementChild;)g=g.firstElementChild;g.appendChild(this[c])}}return this},f.prototype.next=function(a){for(var b,c=new f,d=0,e=this.length;e>d;d++)b=this.nextElementSibling||this.nextSibling,b&&c.push(this[d]);return"string"==typeof a?c.filter(a):c},f.prototype.parent=function(a){for(var b,c=new f,d=0,e=this.length;e>d;d++)b=this.parentElement||this.parentNode,b&&c.push(this[d]);return"string"==typeof a?c.filter(a):c},f.prototype.remove=function(a){for(var b,c=a?this.filter(a):this,d=0,e=c.length;e>d;d++)b=c[d].parentElement||c[d].parentNode,b&&b.removeChild(c[d]);return this},f.prototype.detach=function(a){for(var b=a?this.filter(a):this,c=new f,d=0,e=b.length;e>d;d++)m.appendChild(b[d]),c.push(b[d]);return c},f.prototype.css=function(a,b){if(b){for(var c=0,d=this.length;d>c;c++)this[c].style[a]=b;return this}return this[0]?this[0].style[a]||window.getComputedStyle(this[0])[a]:""},f.prototype.html=function(a){var b,c;if(void 0===a){for(a="",b=0,c=this.length;c>b;b++)text+=this[b].innerHTML;return this}if(a===!0){for(a="",b=0,c=this.length;c>b;b++)text+=this[b].outerHTML;return this}if(a instanceof Function){for(b=0,c=this.length;c>b;b++)this[b].innerHTML=a(b,this[b].innerHTML);return this}for(b=0,c=this.length;c>b;b++)this[b].innerHTML=a;return this.find("script").each(function(a){if("text/javascript"==a.type)try{j("(function(){ 'use strict';"+a.textContent+"})();")}catch(b){throw b.message}}),d.plugin.init(this),this},d.$doc=d(document),d.plugin=function(a,b,c){"string"==typeof a&&b instanceof Function&&(d.plugin.cache[a]=b,d.plugin.cache[a]._collection=!!c),d.plugin.ready?d.plugin.running&&(d.plugin.running=!0,d.plugin.init(d.$doc)):$.plugin.run(d.$doc,a)},d.plugin.running=!1,d.plugin.cache={},d.plugin.run=function(a,b){var c=d.plugin.cache[b],e=a.find(b);e.length&&(c._collection?c(e):e.each(c))},d.plugin.init=function(a){e(function(){for(var b in d.plugin.cache)d.plugin.run(a,b);d.plugin.ready=!0})},g.init=function(){e(function(){d.plugin("[data-widget]",function(){var a=this.getAttribute("data-widget");console.log("running widget",a),g.widgets[a]&&g.widgets[a].call(this)}),g.enabled=!0,g.loading=!1})},g.widgets={},d.widget=g,f.prototype.text=function(a){var b,c;if(void 0===a){for(a="",b=0,c=this.length;c>b;b++)a+=this[b].textContent;return this}if(a instanceof Function){for(b=0,c=this.length;c>b;b++)this[b].textContent=a(b,this[b].textContent);return this}for(b=0,c=this.length;c>b;b++)this[b].textContent=a;return this},f.prototype.on=function(a,b){var c,d;if("string"==typeof a){if(!(b instanceof Function))throw"listener needs to be a function";for(c=0,d=this.length;d>c;c++)o(this[c],a,b)}else if(a instanceof Array)for(c=0,d=a.length;d>c;c++)this.on(a[c],b);else if(a instanceof Object)for(c in a)this.on(c,a[c]);return this};var r={list:["click","focus","blur","submit"],define:function(a){f.prototype[a]=function(b){if(b)this.on(a,b);else for(var c=0,d=this.length;d>c;c++)this[c][a]();return this}},init:function(){for(var a=0,b=r.list.length;b>a;a++)r.define(r.list[a])}};return r.init(),f.prototype.once=function(a,b){var c,d;if("string"==typeof a){if(!(b instanceof Function))throw"listener needs to be a function";var e;for(c=0,d=this.length;d>c;c++)e=this[c],o(e,a,h(e,a,b))}else if(a instanceof Array)for(c=0,d=a.length;d>c;c++)this.once(a[c],b);else if(a instanceof Object)for(c in a)this.once(c,a[c]);return this},f.prototype.one=f.prototype.once,f.prototype.off=function(a,b){if("string"!=typeof a||!(b instanceof Function))throw"bad arguments";for(var c=0,d=this.length;d>c;c++)p(this[c],a,b);return this},f.prototype.trigger=function(a,b,c){if("string"!=typeof a)throw"bad arguments";for(var d=0,e=this.length;e>d;d++)i(this[d],a,b,c);return this},f.prototype.stopPropagation=function(){for(var a=0,b=arguments.length;b>a;a++)this.on(arguments[a],function(a){a.stopPropagation()})},d}),function(a){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):window.fn?fn.define("cookie",a):window.cookie||(window.cookie=a())}(function(){"use strict";function a(b,c,d,e,f,g){return c?void a.set(b,c,d,e,f,g):a.get(b)}return a.get=function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},a.set=function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},a.remove=function(b,c,d){return a.hasKey(b)?(document.cookie=encodeURIComponent(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(c?"; path="+c:""),!0):!1},a.hasKey=function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},a.keys=function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;b>c;c++)a[c]=decodeURIComponent(a[c]);return a},a}),function(a){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):window.fn?fn.define("Events",a):window.Events||(window.Events=a())}(function(){"use strict";function a(a,b,c){return!b instanceof Function?!1:void a.push({handler:b,context:c})}function b(a,b,c){if(a){for(var d=0,e=a.length;e>d;d++)a[d].handler.apply(c,b);return e}}function c(a){a&&a.splice(0,a.length)}function d(a,b){if(a)for(var c=0,d=a.length;d>c;)a[c].handler===b?(a.splice(c,1),d--):c++}function e(e){e=e||this;var f={},g={};e.on=function(b,c,d){f[b]=f[b]||[],a(f[b],c,d)},e.once=function(b,c,d){g[b]=g[b]||[],a(g[b],c,d)},e.trigger=function(a,c,d){b(f[a],c,d);var e=b(g[a],c,d);e&&g[a].splice(0,e)},e.off=function(a,b){void 0===b?(c(f[a]),c(g[a])):(d(f[a],b),d(g[a],b))}}return e}),function(a){"use strict";"undefined"!=typeof window&&(window.fn?fn.define("http",a):window.http||(window.http=a()))}(function(){"use strict";function a(){for(var b,c=[],d=c.shift.call(arguments),e=c.shift.call(arguments);e;){for(b in e)d[b]instanceof Object&&e[b]instanceof Object?d[b]=a({},e[b]):d[b]=e[b];e=c.shift.call(arguments)}return d}function b(a,c,d){if(a){if(c=c||"",d=d||0,a instanceof Function)return(d?"&":"")+encodeURIComponent(c)+"="+encodeURIComponent(a());if(a instanceof Object){var e="";for(var f in a)e+=b(a[f],(c?c+".":"")+f,d++);return e}return(d?"&":"")+encodeURIComponent(c)+"="+encodeURIComponent(a)}return""}function c(a){var b=a[0].toUpperCase()+a.substr(1);return b.replace(/([a-z])([A-Z])/,function(a,b,c){return b+"-"+c})}function d(a){var b=a[0].toLowerCase()+a.substr(1);return b.replace(/([a-z])-([A-Z])/,function(a,b,c){return b+c})}function e(a,b,c,d){var f=b.shift(),g=void 0;if(f||(f=b.$finally.shift()),f instanceof Function)f(c,a.status,a);else if(f instanceof Object&&(d&&f.resolve&&(g=f.resolve(c,a.status,a)),!d&&f.reject&&(g=f.reject(c,a.status,a)),g&&g.then)){if(b.forEach(function(a){g.then(a.resolve,a.reject)}),g["finally"])b.$finally.forEach(function(a){g["finally"](a.resolve,a.reject)});else if(b.$finally.length)throw"received promise not implements finally";f=!1}f&&e(a,b,void 0===g?c:g,d)}function f(a,b,c){a.headers={},a.getAllResponseHeaders().replace(/\s*([^\:]+)\s*\:\s*([^\;\n]+)/g,function(b,c,e){a.headers[d(c)]=e.trim()});var f=a.responseText;"application/json"===a.headers.contentType?f=JSON.parse(f):"application/xml"===a.headers.contentType&&(f=(new DOMParser).parseFromString(f,"text/xml")),c[a.status]?c[a.status].apply(a,[f,function(c){e(a,b,c,!0)},function(c){e(a,b,c,!0)}]):a.status>=200&&a.status<300?(a.$resolved=!0,e(a,b,f,!0)):e(a,b,f,!1)}function g(a){this.url=a}function h(d,e){if(d instanceof Object&&(e=d,d=e.url),void 0===e)return new g(d);var i,j=a({},h.defaults),k={},l=[];for(i in e)e[i]instanceof Function&&(e[i]=e[i]()),j[i]instanceof Function&&(j[i]=j[i]()),"data"!==i&&e[i]instanceof Object?a(j[i],e[i]):j[i]=e[i];if(!d)throw"url missing";/^get$/.test(j.method)&&j.data instanceof Object&&Object.keys(j.data).length&&(console.log("options.data",j.data),d+="?"+b(j.data),j.data=null);var m=null;try{m=new XMLHttpRequest}catch(n){try{m=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){m=new ActiveXObject("Microsoft.XMLHTTP")}}if(null===m)throw"Browser does not support HTTP Request";m.open(j.method.toUpperCase(),d,void 0===j.async?!0:j.async);for(i in j.headers)m.setRequestHeader(c(i),j.headers[i]);return m.onreadystatechange=function(){("complete"===m.readyState||4===m.readyState)&&f(m,l,k)},void 0!==j.data&&"string"!=typeof j.data&&(j.data=JSON.stringify(j.data)),m.send(j.data),m.then=function(a,b){return a instanceof Function&&l.push({resolve:a,reject:b}),m},m["catch"]=function(a){return a instanceof Function&&l.push({resolve:null,reject:a}),m},l.$finally=[],m["finally"]=function(a){return l.$finally.push(a),m},m}return["get","head","options","post","put","delete","patch"].forEach(function(a){g.prototype[a]=function(){var b=[this.url];return[].push.apply(b,arguments),h[a].apply(null,b)}}),h.defaults={method:"get",headers:{contentType:"application/json"}},["get","head","options","post","put","delete"].forEach(function(a){h[a]=function(b,c,d){return b instanceof Object&&(d=b,b=d.url),d=d||{},d.data=c,d.method=a,h(b,d)}}),h.patch=function(b,c,d){if(b instanceof Object)return b.method="patch",h(b);if("string"==typeof b){if(d=d instanceof Object?d:{},c)return h(b,a(d,{method:"patch",data:c}));var e=[],f=function(a){return e.push(a),g},g={add:function(a,b){return f({op:"add",path:a,value:b})},test:function(a,b){return f({op:"test",path:a,value:b})},replace:function(a,b){return f({op:"replace",path:a,value:b})},move:function(a,b){return f({op:"move",from:a,path:b})},copy:function(a,b){return f({op:"copy",from:a,path:b})},remove:function(a){return f({op:"remove",path:a})},flush:function(){return e.splice(0,e.length),g},submit:function(c){return c=c||e,h(b,a(d,{method:"patch",data:c}))}};return g}},h}),function(a,b){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):b.fn?fn.define("qPromise",function(){return a(b)}):b.qPromise||(b.qPromise=a(b))}(function(a){function b(a,b){b instanceof Function&&setTimeout(function(){b.apply(a,[function(b){a.resolve(b)},function(b){a.reject(b)}])},0)}function c(a,b){for(var c=a.shift();a.length;){if(c[b])return c;c=a.shift()}return c&&c[b]?c:!1}function d(a,b,d){var e=g[b],f=c(a.queue,e);if(f)a["[[PromiseStatus]]"]=b,void 0!==d&&(a["[[PromiseValue]]"]=d);else{if("rejected"===a["[[PromiseStatus]]"])throw new Error("unhandled promise");for(f=a.queue["finally"].shift();f;)f(d),f=a.queue["finally"].shift();f=!1}if(f&&f[e]){try{var h=f[e].call(a,d);a["[[PromiseStatus]]"]="fulfilled"}catch(i){a["[[PromiseStatus]]"]="rejected",a["[[PromiseValue]]"]=i,h=i}if(h&&h.then instanceof Function)h.then(function(b){return a.resolve(b),b},function(b){throw a.reject(b),b});else switch(a["[[PromiseStatus]]"]){case"fulfilled":a.resolve(void 0===h?d:h);break;case"rejected":a.reject(void 0===h?d:h)}}return a}function e(a,c){a.queue=[],a.queue["finally"]=[],a["[[PromiseStatus]]"]="pending",a["[[PromiseValue]]"]=void 0,b(a,c)}function f(b){return void 0===this||this===a?new f(b):void e(this,b)}var g={fulfilled:"then",rejected:"catch"};return f.prototype.then=function(a,b){return this.queue.push({then:a instanceof Function?a:!1,"catch":b instanceof Function?b:!1}),this},f.prototype["catch"]=function(a){return this.then(void 0,a),this},f.prototype["finally"]=function(a){return a instanceof Function&&this.queue["finally"].push(a),this},f.prototype.resolve=function(a){return d(this,"fulfilled",a)},f.prototype.reject=function(a){return d(this,"rejected",a)},f.defer=function(){var a=new f;return a.promise=a,a},f.when=function(a){var b=new f(function(c,d){a&&a.then?a.then(c,d):c(b,a)});return b},f.all=function(a){a=a instanceof Array?a:[];var b=a.length,c=[];return c.length=a.length,new f(function(d,e){return b?void a.forEach(function(a,f){if(!(a instanceof Object&&a.then))throw{promise:a,error:"is not a promise"};"fulfilled"===a["[[PromiseStatus]]"]?(c[f]=a["[[PromiseValue]]"],b--,b||d(c)):"reject"===a["[[PromiseStatus]]"]?e(a["[[PromiseValue]]"]):a.then(function(a){c[f]=a,b--,b||d(c)},e)}):void d([])})},f},this),function(a){"use strict";"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):window.fn?fn.define("Scope",a):window.Scope||(window.Scope=a())}(function(){"use strict";var a=function(a){a instanceof Object&&this.extend(a)};return a.prototype["new"]=function(a){var b=function(){this.extend(a)};return b.prototype=this,new b(a)},a.prototype.extend=function(a){for(var b in a)this[b]=a[b];return this},a}),function(a,b){"use strict";"undefined"==typeof b?"undefined"!=typeof module&&(module.exports=a()):b.fn?fn.define("_",a):b._||(b._=a())}(function(){"use strict";function a(){for(var a,b=[],c=b.shift.call(arguments),d=b.shift.call(arguments);d;){for(a in d)c[a]=d[a];d=b.shift.call(arguments)}return c}function b(a){return function(b){return typeof b===a}}function c(a){return function(b){return b instanceof a}}function d(a,b,c){if(!a instanceof Object)return!1;var d,e=b.split(".");if(void 0!==c){if(e.length){d=e.shift();for(var f=e.shift();f;)a[d]||(a[d]={}),a=a[d],d=f,f=e.shift();return a[d]=c,c}return!1}for(var g=0,h=e.length,i=a||{};h>g;g++){if(d=e[g],!(d in i))return!1;i=i[e[g]]||{}}return i}function e(){if(arguments.length>1)for(var b=[].shift.call(arguments),c=[].shift.call(arguments);c;)a(b,c),c=[].shift.call(arguments)}function f(a,b){return a instanceof Array?g([],a,b):a instanceof Object?g({},a,b):a}function g(a,b,c){if(void 0===a)return f(b);if(b instanceof Array){if(!a instanceof Array)return g([],b,c);for(var d=0,e=b.length;e>d;d++)a[d]?a[d]=g(a[d],b[d],c):a.push(f(b[d]))}else if(b instanceof Object){if(!a instanceof Object)return g({},b,c);for(var h in b)c&&w.test(h)||(a[h]=g(a[h],b[h],c))}return a}function h(){if(arguments.length<2)return arguments[0];for(var a=x.shift.apply(arguments),b=x.shift.apply(arguments);b;)g(a,b),b=x.shift.apply(arguments);return a}function i(a){return g({},a,!0)}function j(a,b){for(var c=a[0].apply(null,b),d=1,e=a.length;e>d;d++)c=a[d](c);return c}function k(a,b){for(var c=0,d=b.length;d>c;c++){if(!b[c]instanceof Function)throw"only Functions are allowed as pipe arguments";a.push(b[c])}}function l(a,b,c){for(var d=0,e=a.length;e>d;d++)b.apply(c,[a[d],d])}function m(a,b,c){for(var d in a)b.call(c,[a[d],d])}function n(a,b,c){a instanceof Array?l(a,b,c):a instanceof Object&&m(a,b,c)}function o(a,b){if(!(b instanceof Function))return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function p(a,b){var c,d;if(b instanceof Function)for(c=0,d=a.length;d>c;c++)b(a[c])&&(a.splice(c,1),c--);else for(c=0,d=a.length;d>c;c++)a[c]===b&&(a.splice(c,1),c--)}function q(a,b){for(var c in b)if(a[c]!==b[c])return!1;return!0}function r(a,b){for(var c in b)if(a[c]===b[c])return!0;return!1}function s(a,b){for(var c=0,d=a.length;d>c;c++)if(q(a[c],b))return a[c];return!1}function t(a,b){for(var c=[],d=0,e=a.length;e>d;d++)q(a[d],b)&&c.push(a[d]);return c}function u(a){this.value=a}function v(a){return new u(a)}var w=/^\$\$/,x=[],y={isFunction:b("function"),isString:b("string"),isNumber:b("number"),isArray:c(Array),isDate:c(Date),isRegExp:c(RegExp),isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:d,keys:Object.keys,extend:e,matchAll:q,matchAny:r,find:s,filter:t,sanitize:i,merge:h,copy:function(a){return a instanceof Array?h([],a):h({},a)},each:n,indexOf:o,remove:p,pipe:function(){var a=[];k(a,arguments);var b=function(){return j(a,arguments)};return b.pipe=function(){return k(a,arguments),b},b},chain:function(a){return new u(a)}};return l(["key","keys","each","indexOf","remove"],function(a){u.prototype[a]=function(){[].unshift.call(arguments,this.value),v[a].apply(null,arguments)}}),e(v,y),v},this);
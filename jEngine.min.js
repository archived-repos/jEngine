/*! jengine 2015-02-28 */
!function(){"use strict";var a=function(a,b){window.console[a].apply(window.console,b)},b=function(){},c=b,d=function(){c("log",Array.prototype.slice.call(arguments))};["info","warn","debug","error"].forEach(function(a){d[a]=void 0!==window.console?function(){c(a,Array.prototype.slice.call(arguments))}:b}),d.enable=function(e){e=void 0===e?!0:e,c=e&&void 0!==window.console?a:b,d("log is enabled")},d.clear=function(){d.history=[],window.console&&console.clear()},"true"===document.documentElement.getAttribute("data-log")&&d.enable(),window.log=d}(),function(){"use strict";function a(b,c,d){return f.isString(b)?void 0===c?g[b]:a.define(b,c,d):(a.run(b,c,d),a)}function b(a,b){i[a]=i[a]||[],i[a].push(b)}function c(a){var b=g[a];if(f.isArray(i[a]))for(var c=0,d=i[a].length;d>c;c++)i[a][c](b)}function d(b,d){g[b]=d,log.debug("fn defined: ",b),c(b),delete a.waiting[b]}var e="undefined"==typeof window?module.exports:window,f={isFunction:function(a){return a instanceof Function},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return a instanceof Number},isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:function(a,b,c){if(!a instanceof Object)return!1;var d,e=b.split("."),f=a||{};if(void 0!==c){if(e.length){for(d=e.shift(),next_key=e.shift();next_key;)a[d]||(a[d]={}),a=a[d],d=next_key,next_key=e.shift();a[d]=c}return c}for(var g=0,h=e.length;h>g;g++){if(d=e[g],!(d in f))return!1;f=f[e[g]]||{}}return f},keys:Object.keys,globalize:function(a,b){if(b)e[a]=b;else if(a)e[a]=g[a];else for(a in g)e[a]=g[a]}},g={_:f},h=/^function[^\(]\(([^\)]*)/,i={};a.waiting={},a.run=function(b,c,d){return f.isArray(b)?void 0===c&&(c=b.pop()):f.isFunction(b)&&(d=c,c=b,b=c.toString().match(h)[1].split(",")||[]),c instanceof Function&&a.require(b,c,d),a},a.define=function(b,c,e){if(f.isString(b)){f.isArray(c)?void 0===e&&(e=c.pop()):f.isFunction(c)&&(e=c,c=[],e.toString().replace(h,function(a,b){b=b.replace(/\s/g,""),b&&b.replace(/([^,]+),?/,function(a,b){c.push(b)})})),a.waiting[b]=c,a.require(c,function(){var a=e.apply(g,arguments);a&&a.then instanceof Function?a.then(function(a){setTimeout(function(){d(b,a)},0)}):d(b,a)})}return a},a.require=function(c,d,e){if(!f.isFunction(d))return!1;var h=function(){for(var a=0,b=c.length,f=[];b>a;a++)c[a]&&f.push(g[c[a]]);d.apply(e||g,f)};if(h.pending=0,h._try=function(){h.pending--,h.pending||h()},h._add=function(c){g[c]||(h.pending++,a.defer(function(){g[c]?h._try():b(c,h._try)}))},f.isString(c)&&(c=[c]),f.isArray(c))if(c.length){for(var i=0,j=c.length;j>i;i++)c[i]&&h._add(c[i]);h.pending||h()}else h();return a},a.when=function(c,d){return f.isFunction(d)&&(g[c]?d.apply(context,g[c]):b(c,function(a){d.apply(context,a)})),a},a.defer=function(b,c){return setTimeout(b,c||0),a},a.globalize=f.globalize,f.globalize("fn",a),a.load=window.addEventListener?function(b){return window.addEventListener("load",b,!1),a}:function(b){return window.attachEvent("onload",b),a},a.load(function(){var b,c,d,e,f={};for(c in a.waiting)for(b=a.waiting[c],f[c]=[],d=0,e=b.length;e>d;d++)g[b[d]]||f[c].push(b[d]);if(Object.keys(f).length){console.group("missing dependencies");for(c in f)log(c,f[c]);console.groupEnd()}})}(),function(a,b){if("undefined"==typeof window)"undefined"!=typeof module&&(module.exports=b());else{var c=b();"function"==typeof fn?fn.define("jqlite",function(){return c}):"function"==typeof angular?angular.module("jqlite",[]).constant("jqlite",c):"function"==typeof define&&define.amd?define(["jqlite"],function(){return c}):a.jqlite=c,a.$||(a.$=c)}}(this,function(){"use strict";function a(a,b){for(var c=0,d=b.length;d>c;c++)a[c]=b[c];return a.length+=d,a}function b(b){switch(b[0]){case"#":var c=document.querySelector(b);if(c){var e=new f;return e[0]=c,e.length=1,e}return a(new f,document.querySelectorAll(b));case"<":l.innerHTML=b;var g=a(new f,l.children);return d.plugin.init(g),g;default:return a(new f,document.querySelectorAll(b))}}function c(b){if(b instanceof Array||b instanceof NodeList||b instanceof HTMLCollection)return a(new f,b);if(b===document||b instanceof HTMLElement||b instanceof Element){var c=new f;return c[0]=b,c.length=1,c}if(b instanceof Function)e(b);else if(void 0===b)return new f}function d(a){return"string"==typeof a?b(a):c(a)}function e(a){if(a instanceof Function)e.ready?a.call(document):e.onceListeners.push(a);else if(void 0===a)return e.isReady}function f(){}function g(a,b){"string"==typeof a&&b instanceof Function&&(g.widgets[a]=b,g.enabled?(console.log("running widget directly",a),$('[data-widget="'+a+'"]').each(b)):g.loading||g.init())}function h(a,b,c){var d=function(){p(a,b,d),c()};return d}Element.prototype.matchesSelector||(Element.prototype.matchesSelector=Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);var i=document.createEvent?function(a,b,c,d){var e=document.createEvent("HTMLEvents");return e.data=d,e.args=c,e.initEvent(b,!0,!0),a.dispatchEvent(e),e}:function(a,b,c,d){var e=document.createEventObject();return e.data=d,e.args=c,a.fireEvent("on"+b,e),e},j=eval,k=function(){},l=document.createElement("div"),m=document.createElement("div"),n=!!l.classList,o=k,p=k;if(l.addEventListener)o=function(a,b,c){c.$listener=function(a){c.apply(a.target,[a].concat(a.args))},a.addEventListener(b,c.$listener,!1)},p=function(a,b,c){a.removeEventListener(b,c.$listener||c,!1)};else{if(!document.body.attachEvent)throw"Browser not compatible with element events";o=function(a,b,c){c.$listener=function(a){c.apply(a.target,[a].concat(a.args))},a.attachEvent("on"+b,c.$listener,!1)},p=function(a,b,c){a.detachEvent("on"+b,c.$listener||c)}}d.noop=k,e.isReady=!1,e.ready=function(){e.isReady=!0;for(var a=0,b=e.onceListeners.length;b>a;a++)e.onceListeners[a].call(document);e.onceListeners.splice(0,b)},e.onceListeners=[],document.addEventListener?(e._listener=function(){document.removeEventListener("DOMContentLoaded",e._listener,!1),e.ready()},document.addEventListener("DOMContentLoaded",e._listener,!1)):document.attachEvent&&(e._listener=function(){if("complete"===document.readyState){{arguments}document.detachEvent("onreadystatechange",e._listener),e.ready()}},document.attachEvent("onreadystatechange",e._listener)),f.prototype=[],f.prototype.ready=e,d.fn=f.prototype,f.prototype.get=function(a){return a?this[a]:this},f.prototype.eq=function(a){if(!a instanceof Number)throw"number required";var b=0>a?this[this.length-a]:this[a],c=new f;return b&&(c[0]=b,c.length=1),c},f.prototype.find=function(a){var b,c,d,e=this,g=new f;if(/^\s*>/.test(a)&&(a=a.replace(/^\s*>\s*([^\s]*)\s*/,function(a,b){return e=e.children(b),""}),!a))return e;if(1===e.length){for(b=e[0].querySelectorAll(a),c=0,d=b.length;d>c;c++)g[c]=b[c];g.length=d}else if(e.length>1){var h,i;for(c=0,d=e.length;d>c;c++)for(b=e[c].querySelectorAll(a),h=0,i=b.length;i>h;h++)b.item(h).___found___||(g[g.length]=b.item(h),g.length++,b.item(h).___found___=!0);for(c=0,d=g.length;d>c;c++)delete g[c].___found___}return g},f.prototype.$=f.prototype.find,f.prototype.each=function(a){if(a instanceof Function)for(var b=0,c=this.length;c>b;b++)a.call(this[b],b,this[b]);return this},f.prototype.empty=function(){for(var a,b,c=0,d=this.length;d>c;c++)for(a=this[c],b=a.firstChild;b;)a.removeChild(b),b=a.firstChild;return this},f.prototype.filter=function(a){var b,c,d,e=new f;if(a instanceof Function)for(c=0,d=this.length,b;d>c;c++)b=this[c],a.apply(b,[b])&&e.push(b);else if("string"==typeof a)for(c=0,d=this.length,b;d>c;c++)b=this[c],Element.prototype.matchesSelector.call(b,a)&&e.push(b);return e},f.prototype.closest=function(a){var b,c,d,e=new f;if(!a)return this;if(1===this.length)for(d=this[0].parentElement;d;){if(d.matchesSelector(a)){e.push(d);break}d=d.parentElement}else if(this.length>1){for(b=0,c=this.length;c>b;b++)for(d=this[b].parentElement;d;){if(d.matchesSelector(a)){d.___found___||(d.___found___=!0,e.push(d));break}d=d.parentElement}for(b=0,c=e.length;c>b;b++)delete e[b].___found___}return e},f.prototype.children=l.children?function(b){for(var c=new f,d=0,e=this.length;e>d;d++)a(c,this[d].children);return b?c.filter(b):c}:function(a){var b=new f;return Array.prototype.forEach.call(this,function(a){for(a=a.firstElementChild||a.firstChild;a;)b[b.length]=a,a=a.nextElementSibling||a.nextSibling}),a?b.filter(a):b},f.prototype.contents=function(a){var b=new f;return Array.prototype.forEach.call(this,function(a){for(a=a.firstChild;a;)b[b.length]=a,a=a.nextSibling}),a?b.filter(a):b},f.prototype.clone=function(a){var b,c,d=new f;for(void 0===a&&(a=!0),b=0,c=this.length;c>b;b++)d[b]=this[b].cloneNode(a);return d.length=c,d},f.prototype.data=l.dataset?function(a,b){var c,d;if(void 0===b)return void 0===a?this[0]?this[0].dataset:{}:(this[0]||{}).dataset[a];for(c=0,d=this.length;d>c;c++)this[c].dataset[a]=b;return this}:function(a,b){var c,d;if(void 0===b){var e=[];for(c=0,d=this.length;d>c;c++)e.push(this[c].getAttribute("data-"+a));return(this[0]||{getAttribute:function(){return!1}}).getAttribute(a)}for(c=0,d=this.length;d>c;c++)this[c].setAttribute("data-"+a,b)},f.prototype.removeData=l.dataset?function(a){var b,c;if("string"==typeof a)for(b=0,c=this.length;c>b;b++)delete this[b].dataset[a];else if(a instanceof Array)for(b=0,c=a.length;c>b;b++)this.removeData(a[b]);return this}:function(a){var b,c;if("string"==typeof a)for(b=0,c=this.length;c>b;b++)this[b].removeAttribute("data-"+a);else if(a instanceof Array)for(b=0,c=a.length;c>b;b++)this.removeData(a[b]);return this},f.prototype.attr=function(a,b){var c,d;if(b instanceof Function)for(c=0,d=this.length;d>c;c++)this[c].setAttribute(a,b(c,this[c].getAttribute(a)));else if(void 0!==b)for(c=0,d=this.length;d>c;c++)this[c].setAttribute(a,b);else if(this[0])return this[0].getAttribute(a);return this},f.prototype.removeAttr=function(a){for(var b=0,c=this.length;c>b;b++)this[b].removeAttribute(a);return this},f.prototype.prop=function(a,b){var c,d;if(b instanceof Function)for(c=0,d=this.length;d>c;c++)this[c][a]=b(c,this[c][a]);else if(void 0!==b)for(c=0,d=this.length;d>c;c++)this[c][a]=b;else if(this[0])return this[0][a];return this},f.prototype.val=function(a){var b;if(void 0===a)return b=this[0],"select"===b.nodeName?b.options[b.selectedIndex].value:this[0].value||this[0].getAttribute("value");for(var c=0,d=this.length;d>c;c++)if("select"===this[c].nodeName){b=this[c];for(var e=0,f=b.options.length;f>e;e++)if(b.options[e].value===a){b.options[e].selected=!0;break}}else void 0!==this[c].value?this[c].value=a:this[c].setAttribute("value",a);return this},f.prototype.addClass=n?function(a){if(a.indexOf(" ")>=0){var b=$(this);a.split(" ").forEach(function(a){b.addClass(a)})}else for(var c=0,d=this.length;d>c;c++)this[c].classList.add(a);return this}:function(a){for(var b=new RegExp("\\b"+(a||"")+"\\b",""),c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(b,"")+" "+a;return this},f.prototype.removeClass=n?function(a){if(a.indexOf(" ")>=0){var b=$(this);a.split(" ").forEach(function(a){b.removeClass(a)})}else for(var c=0,d=this.length;d>c;c++)this[c].classList.remove(a);return this}:function(a){for(var b=new RegExp("(\\b|\\s+)"+a+"\\b","g"),c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(b,"");return this},f.prototype.hasClass=n?function(a){for(var b=0,c=this.length;c>b;b++)if(this[b].classList.item(a))return!0;return!1}:function(a){for(var b=new RegExp("\\b"+(a||"")+"\\b",""),c=0,d=this.length;d>c;c++)if(b.test(this[c].className))return!0;return!1},f.prototype.toggleClass=n?function(a,b){var c,d;if(void 0===a)for(c=0,d=this.length;d>c;c++)this[c].classList.item(a)?this[c].classList.remove(a):this[c].classList.add(a);else if(b)for(c=0,d=this.length;d>c;c++)this[c].classList.add(a);else for(c=0,d=this.length;d>c;c++)this[c].classList.remove(a);return this}:function(a,b){var c,d,e=new RegExp("\\b"+(a||"")+"\\b",""),f=new RegExp("\\b"+(a||"")+"\\b",""),g=new RegExp("(\\b|\\s+)"+a+"\\b","g");if(void 0===a)for(c=0,d=this.length;d>c;c++)this[c].className=e.test(this[c].className)?this[c].className.replace(g,""):this[c].className.replace(f,"")+" "+a;else if(b)for(c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(f,"")+" "+a;else for(c=0,d=this.length;d>c;c++)this[c].className=this[c].className.replace(g,"");return this},f.prototype.append=function(a){var b,c,d,e,f,g,h=$(a);for(h.remove(),c=0,e=this.length;e>c;c++)for(b=c?h.clone(!0):h,g=this[c],d=0,f=b.length;f>d;d++)g.appendChild(b[d]);return this},f.prototype.prepend=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++)if(b=c?i.clone(!0):i,g=this[c],h=g.firstChild)for(d=0,f=b.length;f>d;d++)g.insertBefore(b[d],h);else for(d=0,f=b.length;f>d;d++)g.appendChild(b[d]);return this},f.prototype.after=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++)if(b=c?i.clone(!0):i,h=this[c].parentElement||this[c].parentNode,g=this[c].nextElementSibling||this[c].nextSibling)for(d=0,f=b.length;f>d;d++)h.insertBefore(b[d],g),g=b[d];else for(d=0,f=b.length;f>d;d++)h.appendChild(b[d]);return this},f.prototype.replaceWith=function(a){var b,c,d,e,f,g,h,i,j=$(a);for(j.remove(),c=0,e=this.length;e>c;c++)if(b=c?j.clone(!0):j,g=this[c],h=g.parentElement||parentNode,h.replaceChild(b[0],g),b[1])for(i=b[0],d=1,f=b.length;f>d;d++)h.insertBefore(b[d],i);return this},f.prototype.wrap=function(a){var b,c,d,e,f,g,h,i=$(a);for(i.remove(),c=0,e=this.length;e>c;c++){if(b=c?i.clone(!0):i,h=this[c].parentElement||this[c].parentNode,g=this[c].nextElementSibling||this[c].nextSibling)for(d=0,f=b.length;f>d;d++)h.insertBefore(b[d],g),g=b[d];else for(d=0,f=b.length;f>d;d++)h.appendChild(b[d]);if(b[0]){for(g=b[0];g.firstElementChild;)g=g.firstElementChild;g.appendChild(this[c])}}return this},f.prototype.next=function(a){for(var b,c=new f,d=0,e=this.length;e>d;d++)b=this.nextElementSibling||this.nextSibling,b&&c.push(this[d]);return"string"==typeof a?c.filter(a):c},f.prototype.parent=function(a){for(var b,c=new f,d=0,e=this.length;e>d;d++)b=this.parentElement||this.parentNode,b&&c.push(this[d]);return"string"==typeof a?c.filter(a):c},f.prototype.remove=function(a){for(var b,c=a?this.filter(a):this,d=0,e=c.length;e>d;d++)b=c[d].parentElement||c[d].parentNode,b&&b.removeChild(c[d]);return this},f.prototype.detach=function(a){for(var b=a?this.filter(a):this,c=new f,d=0,e=b.length;e>d;d++)m.appendChild(b[d]),c.push(b[d]);return c},f.prototype.css=function(a,b){if(b){for(var c=0,d=this.length;d>c;c++)this[c].style[a]=b;return this}return this[0]?this[0].style[a]||window.getComputedStyle(this[0])[a]:""},f.prototype.html=function(a){var b,c;if(void 0===a){for(a="",b=0,c=this.length;c>b;b++)text+=this[b].innerHTML;return this}if(a===!0){for(a="",b=0,c=this.length;c>b;b++)text+=this[b].outerHTML;return this}if(a instanceof Function){for(b=0,c=this.length;c>b;b++)this[b].innerHTML=a(b,this[b].innerHTML);return this}for(b=0,c=this.length;c>b;b++)this[b].innerHTML=a;return this.find("script").each(function(a){if("text/javascript"==a.type)try{j("(function(){ 'use strict';"+a.textContent+"})();")}catch(b){throw b.message}}),d.plugin.init(this),this},d.$doc=d(document),d.plugin=function(a,b,c){"string"==typeof a&&b instanceof Function&&(d.plugin.cache[a]=b,d.plugin.cache[a]._collection=!!c),d.plugin.running?$.plugin.run(d.$doc,a):(d.plugin.running=!0,d.plugin.init(d.$doc))},d.plugin.running=!1,d.plugin.cache={},d.plugin.run=function(a,b){var c=d.plugin.cache[b],e=a.find(b);e.length&&(c._collection?c(e):e.each(c))},d.plugin.init=function(a){e(function(){for(var b in d.plugin.cache)d.plugin.run(a,b)})},g.init=function(){g.loading=!0,e(function(){d.plugin("[data-widget]",function(){var a=this.getAttribute("data-widget");console.log("running widget",a),g.widgets[a]&&g.widgets[a].call(this)}),g.enabled=!0,g.loading=!1})},g.widgets={},d.widget=g,f.prototype.text=function(a){var b,c;if(void 0===a){for(a="",b=0,c=this.length;c>b;b++)a+=this[b].textContent;return this}if(a instanceof Function){for(b=0,c=this.length;c>b;b++)this[b].textContent=a(b,this[b].textContent);return this}for(b=0,c=this.length;c>b;b++)this[b].textContent=a;return this},f.prototype.on=function(a,b){var c,d;if(a instanceof Array)for(c=0,d=a.length;d>c;c++)this.on(a[c],b);else{if("string"!=typeof a||!(b instanceof Function))throw"bad arguments";for(c=0,d=this.length;d>c;c++)o(this[c],a,b)}return this};var q={list:["click","focus","blur","submit"],define:function(a){f.prototype[a]=function(b){if(b)this.on(a,b);else for(var c=0,d=this.length;d>c;c++)this[c][a]();return this}},init:function(){for(var a=0,b=q.list.length;b>a;a++)q.define(q.list[a])}};return q.init(),f.prototype.one=function(a,b){if("string"!=typeof a||!(b instanceof Function))throw"bad arguments";for(var c,d=0,e=this.length;e>d;d++)c=this[d],o(c,a,h(c,a,b));return this},f.prototype.once=f.prototype.one,f.prototype.off=function(a,b){if("string"!=typeof a||!(b instanceof Function))throw"bad arguments";for(var c=0,d=this.length;d>c;c++)p(this[c],a,b);return this},f.prototype.trigger=function(a,b,c){if("string"!=typeof a)throw"bad arguments";for(var d=0,e=this.length;e>d;d++)i(this[d],a,b,c);return this},f.prototype.stopPropagation=function(){for(var a=0,b=arguments.length;b>a;a++)this.on(arguments[a],function(a){a.stopPropagation()})},d}),function(a){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a):window.fn?fn.define("cookie",a):window.cookie||(window.cookie=a)}(function(){"use strict";function a(b,c,d,e,f,g){return c?void a.set(b,c,d,e,f,g):a.get(b)}return a.get=function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},a.set=function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=1/0===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},a.remove=function(b,c,d){return a.hasKey(b)?(document.cookie=encodeURIComponent(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(c?"; path="+c:""),!0):!1},a.hasKey=function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},a.keys=function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;b>c;c++)a[c]=decodeURIComponent(a[c]);return a},a}),function(a){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):window.fn?fn.define("Events",a):window.Events||(window.Events=a())}(function(){"use strict";function a(a,b,c){return!b instanceof Function?!1:void a.push({handler:b,context:c})}function b(a,b,c){if(a){for(var d=0,e=a.length;e>d;d++)a[d].handler.apply(c,b);return e}}function c(a){a&&a.splice(0,a.length)}function d(a,b){if(a)for(var c=0,d=a.length;d>c;)a[c].handler===b?(a.splice(c,1),d--):c++}function e(e){e=e||this;var f={},g={};e.on=function(b,c,d){f[b]=f[b]||[],a(f[b],c,d)},e.once=function(b,c,d){g[b]=g[b]||[],a(g[b],c,d)},e.trigger=function(a,c,d){b(f[a],c,d);var e=b(g[a],c,d);e&&g[a].splice(0,e)},e.off=function(a,b){void 0===b?(c(f[a]),c(g[a])):(d(f[a],b),d(g[a],b))}}return e}),function(a){"use strict";"undefined"!=typeof window&&(window.fn?fn.define("http",a):window.http||(window.http=a()))}(function(){"use strict";function a(){for(var b,c=[],d=c.shift.call(arguments),e=c.shift.call(arguments);e;){for(b in e)d[b]=d[b]instanceof Object&&e[b]instanceof Object?a({},e[b]):e[b];e=c.shift.call(arguments)}return d}function b(a){var b=a[0].toUpperCase()+a.substr(1);return b.replace(/([a-z])([A-Z])/,function(a,b,c){return b+"-"+c})}function c(a){var b=a[0].toLowerCase()+a.substr(1);return b.replace(/([a-z])-([A-Z])/,function(a,b,c){return b+c})}function d(a,b,c,e){var f=b.shift(),g=void 0;if(f||(f=b.$finally.shift()),f instanceof Function)f(c,a.status,a);else if(f instanceof Object&&(e&&f.resolve&&(g=f.resolve(c,a.status,a)),!e&&f.reject&&(g=f.reject(c,a.status,a)),g&&g.then)){if(b.forEach(function(a){g.then(a.resolve,a.reject)}),g["finally"])b.$finally.forEach(function(a){g["finally"](a.resolve,a.reject)});else if(b.$finally.length)throw"received promise not implements finally";f=!1}f&&d(a,b,void 0===g?c:g,e)}function e(a,b,e){a.headers={},a.getAllResponseHeaders().replace(/\s*([^\:]+)\s*\:\s*([^\;\n]+)/g,function(b,d,e){a.headers[c(d)]=e.trim()});var f=a.responseText;"application/json"===a.headers.contentType&&(f=JSON.parse(f)),e[a.status]?e[a.status].apply(a,[f,function(c){d(a,b,c,!0)},function(c){d(a,b,c,!0)}]):a.status>=200&&a.status<300?(a.$resolved=!0,d(a,b,f,!0)):d(a,b,f,!1)}function f(c,d){c instanceof Object&&(d=c,c=d.url),d=d||{};var g,h=a({},f.defaults),i={},j=[];for(g in d)d[g]instanceof Function&&(d[g]=d[g]()),h[g]instanceof Function&&(h[g]=h[g]()),"data"!==g&&d[g]instanceof Object?a(h[g],d[g]):h[g]=d[g];if(!c)throw"url missing";var k=null;try{k=new XMLHttpRequest}catch(l){try{k=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){k=new ActiveXObject("Microsoft.XMLHTTP")}}if(null===k)throw"Browser does not support HTTP Request";k.open(h.method.toUpperCase(),c,void 0===h.async?!0:h.async);for(g in h.headers)k.setRequestHeader(b(g),h.headers[g]);return k.onreadystatechange=function(){("complete"===k.readyState||4===k.readyState)&&e(k,j,i)},void 0!==h.data&&"string"!=typeof h.data&&(h.data=JSON.stringify(h.data)),k.send(h.data),k.then=function(a,b){return a instanceof Function&&j.push({resolve:a,reject:b}),k},k["catch"]=function(a){return a instanceof Function&&j.push({resolve:null,reject:a}),k},j.$finally=[],k["finally"]=function(a){return j.$finally.push(a),k},k}return f.defaults={method:"get",headers:{contentType:"application/json"}},f.get=f,["head","options","post","put","delete"].forEach(function(a){f[a]=function(b,c,d){return b instanceof Object&&(d=b,b=d.url),d=d||{},d.data=c,d.method=a,f(b,d)}}),f.patch=function(b,c,d){if(b instanceof Object)return b.method="patch",f(b);if("string"==typeof b){if(d=d instanceof Object?d:{},c)return f(b,a(d,{method:"patch",data:c}));var e=[],g=function(a){return e.push(a),h},h={add:function(a,b){return g({op:"add",path:a,value:b})},test:function(a,b){return g({op:"test",path:a,value:b})},replace:function(a,b){return g({op:"replace",path:a,value:b})},move:function(a,b){return g({op:"move",from:a,path:b})},copy:function(a,b){return g({op:"copy",from:a,path:b})},remove:function(a){return g({op:"remove",path:a})},flush:function(){return e.splice(0,e.length),h},submit:function(c){return c=c||e,f(b,a(d,{method:"patch",data:c}))}};return h}},f}),function(a,b){"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):b.fn?fn.define("qPromise",function(){return a(b)}):b.qPromise||(b.qPromise=a(b))}(function(a){function b(a,b){b instanceof Function&&setTimeout(function(){b.apply(a,[function(b){a.resolve(b)},function(b){a.reject(b)}])},0)}function c(a,b){for(var c=a.shift();a.length;){if(c[b])return c;c=a.shift()}return c&&c[b]?c:!1}function d(a,b,d,e){var f=c(a.queue,d);if(f)a["[[PromiseStatus]]"]=b,void 0!==e&&(a["[[PromiseValue]]"]=e);else{for(f=a.queue["finally"].shift();f;)f(e),f=c(a.queue["finally"],d);f=!1}if(f&&f[d]){try{var g=f[d].call(a,e);a["[[PromiseStatus]]"]="fulfilled"}catch(h){a["[[PromiseStatus]]"]="rejected",a["[[PromiseValue]]"]=h,g=h}if(g&&g.then instanceof Function)g.then(function(b){return a.resolve(b),b},function(b){throw a.reject(b),b});else switch(a["[[PromiseStatus]]"]){case"fulfilled":a.resolve(void 0===g?e:g);break;case"rejected":a.reject(void 0===g?e:g)}}return a}function e(a,c){a.queue=[],a.queue["finally"]=[],a["[[PromiseStatus]]"]="pending",a["[[PromiseValue]]"]=void 0,b(a,c)}function f(b){return void 0===this||this===a?new f(b):void e(this,b)}return f.prototype.then=function(a,b){return a instanceof Function&&this.queue.push({then:a,"catch":b}),this},f.prototype["catch"]=function(a){return a instanceof Function&&this.queue.push({"catch":a}),this},f.prototype["finally"]=function(a){return a instanceof Function&&this.queue["finally"].push(a),this},f.prototype.resolve=function(a){return d(this,"fulfilled","then",a)},f.prototype.reject=function(a){return d(this,"rejected","catch",a)},f.defer=function(){var a=new f;return a.promise=a,a},f.when=function(a){var b=new f(function(c,d){a&&a.then?a.then(c,d):c(b,a)});return b},f},this),function(a){"use strict";"undefined"==typeof window?"undefined"!=typeof module&&(module.exports=a()):window.fn?fn.define("Scope",a):window.Scope||(window.Scope=a())}(function(){"use strict";var a=function(a){a instanceof Object&&this.extend(a)};return a.prototype["new"]=function(a){var b=function(){this.extend(a)};return b.prototype=this,new b(a)},a.prototype.extend=function(a){for(var b in a)this[b]=a[b];return this},a});